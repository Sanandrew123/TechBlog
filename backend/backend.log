2025/08/06 07:00:58 Database connected successfully
2025/08/06 07:00:58 Starting database migration...

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[9.222ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.389ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[28.235ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.878ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 1

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[19.663ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[11.369ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.072ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[4.127ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.220ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[10.959ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2025/08/06 07:00:58 [32m
[0m[33m[0.785ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[13.341ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[13.254ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2025/08/06 07:00:58 [32m
[0m[33m[0.719ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[3.816ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "username" TYPE varchar(50) USING "username"::varchar(50)

2025/08/06 07:00:58 [32m
[0m[33m[2.716ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[5.093ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'username') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[2.544ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[13.943ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2025/08/06 07:00:58 [32m
[0m[33m[0.466ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[13.146ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[15.881ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2025/08/06 07:00:58 [32m
[0m[33m[0.730ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.917ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "email" TYPE varchar(100) USING "email"::varchar(100)

2025/08/06 07:00:58 [32m
[0m[33m[1.265ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[7.037ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[4.104ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'password') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.201ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[13.563ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'users'

2025/08/06 07:00:58 [32m
[0m[33m[0.488ms] [34;1m[rows:-][0m SELECT * FROM "users" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[9.961ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[11.723ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'users'

2025/08/06 07:00:58 [32m
[0m[33m[0.717ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'users'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.833ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" TYPE varchar(20) USING "role"::varchar(20)

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.617ms] [34;1m[rows:0][0m ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'admin'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[4.008ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'role') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.817ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'avatar') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.432ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'bio') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.350ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'active') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.328ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.355ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.334ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'users' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'users' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.986ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_username' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.893ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_email' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.877ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'users' AND indexname = 'idx_users_deleted_at' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.755ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND table_type = 'BASE TABLE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.155ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[9.510ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.647ms] [34;1m[rows:-][0m SELECT * FROM "blog_posts" LIMIT 1

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[10.337ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'blog_posts' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[9.416ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'blog_posts'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.820ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'blog_posts'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.450ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.349ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'title') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.331ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'content') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.341ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'excerpt') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[1.932ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[9.832ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts'

2025/08/06 07:00:58 [32m
[0m[33m[0.375ms] [34;1m[rows:-][0m SELECT * FROM "blog_posts" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[9.717ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'blog_posts' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[9.956ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'blog_posts'

2025/08/06 07:00:58 [32m
[0m[33m[0.704ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'blog_posts'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.000ms] [34;1m[rows:0][0m ALTER TABLE "blog_posts" ALTER COLUMN "slug" TYPE varchar(200) USING "slug"::varchar(200)

2025/08/06 07:00:58 [32m
[0m[33m[1.181ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'blog_posts' AND indexname = 'idx_blog_posts_slug' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.445ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'slug') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.366ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'author') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.306ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'tags') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.340ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'cover_image') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'published') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.305ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'read_time') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.354ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'view_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.297ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.315ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.581ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'blog_posts' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'blog_posts' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.303ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'blog_posts' AND indexname = 'idx_blog_posts_slug' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.255ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'blog_posts' AND indexname = 'idx_blog_posts_deleted_at' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.815ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND table_type = 'BASE TABLE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.496ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[3.602ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.447ms] [34;1m[rows:-][0m SELECT * FROM "contact_messages" LIMIT 1

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.547ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'contact_messages' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[3.431ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'contact_messages'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.357ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'contact_messages'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.426ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.340ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.295ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.437ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'subject') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'message') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.294ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'is_read') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.003ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'is_replied') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.301ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.291ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'contact_messages' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'contact_messages' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.839ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND table_type = 'BASE TABLE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.403ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.343ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'categories'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.517ms] [34;1m[rows:-][0m SELECT * FROM "categories" LIMIT 1

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.002ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.012ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[5.476ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'categories'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.543ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.137ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[3.362ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'categories'

2025/08/06 07:00:58 [32m
[0m[33m[0.264ms] [34;1m[rows:-][0m SELECT * FROM "categories" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[3.543ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[1.549ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories'

2025/08/06 07:00:58 [32m
[0m[33m[0.187ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'categories'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[4.214ms] [34;1m[rows:0][0m ALTER TABLE "categories" ALTER COLUMN "name" TYPE varchar(100) USING "name"::varchar(100)

2025/08/06 07:00:58 [32m
[0m[33m[0.401ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'categories' AND indexname = 'idx_categories_name' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.420ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.105ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[3.352ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'categories'

2025/08/06 07:00:58 [32m
[0m[33m[0.389ms] [34;1m[rows:-][0m SELECT * FROM "categories" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[1.515ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[3.985ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories'

2025/08/06 07:00:58 [32m
[0m[33m[0.250ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'categories'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.859ms] [34;1m[rows:0][0m ALTER TABLE "categories" ALTER COLUMN "slug" TYPE varchar(100) USING "slug"::varchar(100)

2025/08/06 07:00:58 [32m
[0m[33m[0.333ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'categories' AND indexname = 'idx_categories_slug' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.350ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'slug') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.302ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'description') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.109ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[1.964ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'categories'

2025/08/06 07:00:58 [32m
[0m[33m[0.295ms] [34;1m[rows:-][0m SELECT * FROM "categories" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[1.541ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[1.319ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'categories'

2025/08/06 07:00:58 [32m
[0m[33m[0.193ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'categories'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.933ms] [34;1m[rows:0][0m ALTER TABLE "categories" ALTER COLUMN "color" TYPE varchar(7) USING "color"::varchar(7)

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.435ms] [34;1m[rows:0][0m ALTER TABLE "categories" ALTER COLUMN "color" SET DEFAULT '#6366f1'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.509ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'color') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.321ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'post_count') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.339ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.312ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.330ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'categories' AND column_name = 'deleted_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'categories' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.310ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'categories' AND indexname = 'idx_categories_name' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.397ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'categories' AND indexname = 'idx_categories_slug' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.280ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'categories' AND indexname = 'idx_categories_deleted_at' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.852ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND table_type = 'BASE TABLE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.333ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'comments'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.437ms] [34;1m[rows:-][0m SELECT * FROM "comments" LIMIT 1

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.563ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'comments' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.547ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'comments'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.228ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'comments'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.384ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.370ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'post_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.349ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'author') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.317ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'email') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.336ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'website') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.319ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'content') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.327ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'approved') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.303ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.285ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'comments' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.713ms] [34;1m[rows:1][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'comments' AND constraint_name = 'fk_comments_post'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.325ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'comments' AND indexname = 'idx_comments_post_id' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.832ms] [34;1m[rows:1][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND table_type = 'BASE TABLE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.131ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.593ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.643ms] [34;1m[rows:-][0m SELECT * FROM "sponsor_orders" LIMIT 1

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.837ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.778ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.238ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.462ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.142ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[2.692ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.286ms] [34;1m[rows:-][0m SELECT * FROM "sponsor_orders" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[1.785ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[1.786ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.254ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[4.045ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "order_id" TYPE varchar(100) USING "order_id"::varchar(100)

2025/08/06 07:00:58 [32m
[0m[33m[0.343ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sponsor_orders' AND indexname = 'idx_sponsor_orders_order_id' AND schemaname = CURRENT_SCHEMA()

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.377ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'order_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.346ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'amount') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.215ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[2.700ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.455ms] [34;1m[rows:-][0m SELECT * FROM "sponsor_orders" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[1.808ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[2.773ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.257ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.406ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "sponsor_name" TYPE varchar(100) USING "sponsor_name"::varchar(100)

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.458ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "sponsor_name" SET DEFAULT '匿名赞助者'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.443ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'sponsor_name') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.397ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'message') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[1.601ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[4.963ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[1.948ms] [34;1m[rows:-][0m SELECT * FROM "sponsor_orders" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[1.934ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[3.209ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.232ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[3.649ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "payment_method" TYPE varchar(20) USING "payment_method"::varchar(20)

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.574ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "payment_method" SET DEFAULT 'wechat'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.504ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'payment_method') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m
[0m[33m[0.139ms] [34;1m[rows:1][0m SELECT CURRENT_DATABASE()

2025/08/06 07:00:58 [32m
[0m[33m[2.760ms] [34;1m[rows:-][0m SELECT c.column_name, c.is_nullable = 'YES', c.udt_name, c.character_maximum_length, c.numeric_precision, c.numeric_precision_radix, c.numeric_scale, c.datetime_precision, 8 * typlen, c.column_default, pd.description, c.identity_increment FROM information_schema.columns AS c JOIN pg_type AS pgt ON c.udt_name = pgt.typname LEFT JOIN pg_catalog.pg_description as pd ON pd.objsubid = c.ordinal_position AND pd.objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = c.table_name AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = c.table_schema)) where table_catalog = 'techblog' AND table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.352ms] [34;1m[rows:-][0m SELECT * FROM "sponsor_orders" LIMIT 1

2025/08/06 07:00:58 [32m
[0m[33m[2.886ms] [34;1m[rows:-][0m SELECT constraint_name FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders' AND constraint_type = 'UNIQUE'

2025/08/06 07:00:58 [32m
[0m[33m[1.895ms] [34;1m[rows:-][0m SELECT c.column_name, constraint_name, constraint_type FROM information_schema.table_constraints tc JOIN information_schema.constraint_column_usage AS ccu USING (constraint_schema, constraint_catalog, table_name, constraint_name) JOIN information_schema.columns AS c ON c.table_schema = tc.constraint_schema AND tc.table_name = c.table_name AND ccu.column_name = c.column_name WHERE constraint_type IN ('PRIMARY KEY', 'UNIQUE') AND c.table_catalog = 'techblog' AND c.table_schema = CURRENT_SCHEMA() AND c.table_name = 'sponsor_orders'

2025/08/06 07:00:58 [32m
[0m[33m[0.233ms] [34;1m[rows:-][0m SELECT a.attname as column_name, format_type(a.atttypid, a.atttypmod) AS data_type
		FROM pg_attribute a JOIN pg_class b ON a.attrelid = b.oid AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA())
		WHERE a.attnum > 0 -- hide internal columns
		AND NOT a.attisdropped -- hide deleted columns
		AND b.relname = 'sponsor_orders'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[3.212ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "status" TYPE varchar(20) USING "status"::varchar(20)

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[2.292ms] [34;1m[rows:0][0m ALTER TABLE "sponsor_orders" ALTER COLUMN "status" SET DEFAULT 'pending'

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.589ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'status') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.487ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'qr_code_url') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.401ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'transaction_id') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.318ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'paid_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.320ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'created_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[1.932ms] [34;1m[rows:0][0m SELECT description FROM pg_catalog.pg_description WHERE objsubid = (SELECT ordinal_position FROM information_schema.columns WHERE table_schema = CURRENT_SCHEMA() AND table_name = 'sponsor_orders' AND column_name = 'updated_at') AND objoid = (SELECT oid FROM pg_catalog.pg_class WHERE relname = 'sponsor_orders' AND relnamespace = (SELECT oid FROM pg_catalog.pg_namespace WHERE nspname = CURRENT_SCHEMA()))

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:55
[0m[33m[0.299ms] [34;1m[rows:1][0m SELECT count(*) FROM pg_indexes WHERE tablename = 'sponsor_orders' AND indexname = 'idx_sponsor_orders_order_id' AND schemaname = CURRENT_SCHEMA()
2025/08/06 07:00:58 Database migration completed successfully

2025/08/06 07:00:58 [32m/home/ubuntu/personal-blog/backend/internal/database/database.go:82
[0m[33m[0.953ms] [34;1m[rows:1][0m SELECT * FROM "users" WHERE role = 'admin' AND "users"."deleted_at" IS NULL ORDER BY "users"."id" LIMIT 1
2025/08/06 07:00:58 Admin user already exists
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /api/v1/health            --> main.healthCheck (4 handlers)
[GIN-debug] GET    /api/v1/posts             --> techblog-api/backend/internal/api.(*BlogHandler).GetPosts-fm (4 handlers)
[GIN-debug] GET    /api/v1/posts/:id         --> techblog-api/backend/internal/api.(*BlogHandler).GetPost-fm (4 handlers)
[GIN-debug] POST   /api/v1/contact           --> techblog-api/backend/internal/api.(*ContactHandler).SubmitContact-fm (4 handlers)
[GIN-debug] POST   /api/v1/sponsor/create    --> techblog-api/backend/internal/handlers.(*SponsorHandler).CreateSponsorOrder-fm (4 handlers)
[GIN-debug] GET    /api/v1/sponsor/status/:orderId --> techblog-api/backend/internal/handlers.(*SponsorHandler).GetOrderStatus-fm (4 handlers)
[GIN-debug] GET    /api/v1/sponsor/list      --> techblog-api/backend/internal/handlers.(*SponsorHandler).GetSponsorList-fm (4 handlers)
[GIN-debug] GET    /api/v1/sponsor/stats     --> techblog-api/backend/internal/handlers.(*SponsorHandler).GetSponsorStats-fm (4 handlers)
[GIN-debug] POST   /api/v1/sponsor/mock-callback/:orderId --> techblog-api/backend/internal/handlers.(*SponsorHandler).MockPaymentCallback-fm (4 handlers)
[GIN-debug] POST   /api/v1/auth/login        --> techblog-api/backend/internal/api.(*AuthHandler).Login-fm (4 handlers)
[GIN-debug] GET    /api/v1/auth/profile      --> techblog-api/backend/internal/api.(*AuthHandler).GetProfile-fm (5 handlers)
[GIN-debug] PUT    /api/v1/auth/profile      --> techblog-api/backend/internal/api.(*AuthHandler).UpdateProfile-fm (5 handlers)
[GIN-debug] POST   /api/v1/auth/change-password --> techblog-api/backend/internal/api.(*AuthHandler).ChangePassword-fm (5 handlers)
[GIN-debug] POST   /api/v1/auth/refresh      --> techblog-api/backend/internal/api.(*AuthHandler).RefreshToken-fm (5 handlers)
[GIN-debug] POST   /api/v1/admin/posts       --> techblog-api/backend/internal/api.(*BlogHandler).CreatePost-fm (6 handlers)
[GIN-debug] PUT    /api/v1/admin/posts/:id   --> techblog-api/backend/internal/api.(*BlogHandler).UpdatePost-fm (6 handlers)
[GIN-debug] DELETE /api/v1/admin/posts/:id   --> techblog-api/backend/internal/api.(*BlogHandler).DeletePost-fm (6 handlers)
[GIN-debug] GET    /api/v1/admin/messages    --> techblog-api/backend/internal/api.(*ContactHandler).GetMessages-fm (6 handlers)
[GIN-debug] GET    /api/v1/admin/messages/:id --> techblog-api/backend/internal/api.(*ContactHandler).GetMessage-fm (6 handlers)
[GIN-debug] PUT    /api/v1/admin/messages/:id/read --> techblog-api/backend/internal/api.(*ContactHandler).MarkAsRead-fm (6 handlers)
[GIN-debug] PUT    /api/v1/admin/messages/:id/replied --> techblog-api/backend/internal/api.(*ContactHandler).MarkAsReplied-fm (6 handlers)
[GIN-debug] DELETE /api/v1/admin/messages/:id --> techblog-api/backend/internal/api.(*ContactHandler).DeleteMessage-fm (6 handlers)
[GIN-debug] GET    /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] HEAD   /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] GET    /                         --> main.main.func1 (4 handlers)
2025/08/06 07:00:58 🚀 Server starting on 0.0.0.0:8080
2025/08/06 07:00:58 🌍 Environment: development
2025/08/06 07:00:58 📚 API Documentation: http://0.0.0.0:8080/
2025/08/06 07:00:58 💚 Health Check: http://0.0.0.0:8080/api/v1/health
2025/08/06 07:00:58 🔧 Development mode - detailed logging enabled
2025/08/06 07:00:58 🔑 Default admin: username=admin, password=admin123
[GIN] 2025/08/06 - 07:01:26 | 200 |     195.997µs |             ::1 | GET      "/"
[GIN] 2025/08/06 - 07:01:45 | 400 |     164.081µs |             ::1 | POST     "/api/v1/sponsor/create"

2025/08/06 07:01:52 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:62
[0m[33m[3.684ms] [34;1m[rows:1][0m INSERT INTO "sponsor_orders" ("order_id","amount","sponsor_name","message","payment_method","status","qr_code_url","transaction_id","paid_at","created_at","updated_at") VALUES ('SP1754463712579c9b97',50,'测试用户','支持开源项目','wechat','pending','','',NULL,'2025-08-06 07:01:52.55','2025-08-06 07:01:52.55') RETURNING "id"

2025/08/06 07:01:52 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:75
[0m[33m[3.284ms] [34;1m[rows:1][0m UPDATE "sponsor_orders" SET "qr_code_url"='https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=mock_payment_SP1754463712579c9b97_50.00',"updated_at"='2025-08-06 07:01:52.553' WHERE "id" = 1
[GIN] 2025/08/06 - 07:01:52 | 200 |    7.474405ms |             ::1 | POST     "/api/v1/sponsor/create"

2025/08/06 07:01:57 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:93
[0m[33m[2.089ms] [34;1m[rows:1][0m SELECT * FROM "sponsor_orders" WHERE order_id = 'SP1754463712579c9b97' ORDER BY "sponsor_orders"."id" LIMIT 1
[GIN] 2025/08/06 - 07:01:57 | 200 |    2.241869ms |             ::1 | GET      "/api/v1/sponsor/status/SP1754463712579c9b97"

2025/08/06 07:02:25 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:199
[0m[33m[1.820ms] [34;1m[rows:1][0m SELECT * FROM "sponsor_orders" WHERE order_id = 'SP1754463712579c9b97' ORDER BY "sponsor_orders"."id" LIMIT 1

2025/08/06 07:02:25 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:227
[0m[33m[3.693ms] [34;1m[rows:1][0m UPDATE "sponsor_orders" SET "order_id"='SP1754463712579c9b97',"amount"=50,"sponsor_name"='测试用户',"message"='支持开源项目',"payment_method"='wechat',"status"='paid',"qr_code_url"='https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=mock_payment_SP1754463712579c9b97_50.00',"transaction_id"='3305e4341d0a59127e551a957c9a3942',"paid_at"='2025-08-06 07:02:25.646',"created_at"='2025-08-06 07:01:52.55',"updated_at"='2025-08-06 07:02:25.646' WHERE "id" = 1
[GIN] 2025/08/06 - 07:02:25 | 200 |    5.802258ms |             ::1 | POST     "/api/v1/sponsor/mock-callback/SP1754463712579c9b97?action=pay"

2025/08/06 07:02:31 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:171
[0m[33m[4.562ms] [34;1m[rows:1][0m SELECT COALESCE(SUM(amount), 0) FROM "sponsor_orders" WHERE status = 'paid'

2025/08/06 07:02:31 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:173
[0m[33m[0.456ms] [34;1m[rows:1][0m SELECT count(*) FROM "sponsor_orders" WHERE status = 'paid'

2025/08/06 07:02:31 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:180
[0m[33m[0.982ms] [34;1m[rows:1][0m SELECT count(*) FROM "sponsor_orders" WHERE status = 'paid' AND paid_at >= '2025-08-01 00:00:00'
[GIN] 2025/08/06 - 07:02:31 | 200 |     6.23193ms |             ::1 | GET      "/api/v1/sponsor/stats"

2025/08/06 07:02:36 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:134
[0m[33m[1.483ms] [34;1m[rows:1][0m SELECT count(*) FROM "sponsor_orders" WHERE status = 'paid'

2025/08/06 07:02:36 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:138
[0m[33m[0.586ms] [34;1m[rows:1][0m SELECT * FROM "sponsor_orders" WHERE status = 'paid' ORDER BY paid_at DESC LIMIT 20
[GIN] 2025/08/06 - 07:02:36 | 200 |    2.286512ms |             ::1 | GET      "/api/v1/sponsor/list"

2025/08/06 07:04:39 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:62
[0m[33m[3.154ms] [34;1m[rows:1][0m INSERT INTO "sponsor_orders" ("order_id","amount","sponsor_name","message","payment_method","status","qr_code_url","transaction_id","paid_at","created_at","updated_at") VALUES ('SP1754463879d4f0e52f',100,'前端测试用户','测试前后端集成','wechat','pending','','',NULL,'2025-08-06 07:04:39.136','2025-08-06 07:04:39.136') RETURNING "id"

2025/08/06 07:04:39 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:75
[0m[33m[2.825ms] [34;1m[rows:1][0m UPDATE "sponsor_orders" SET "qr_code_url"='https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=mock_payment_SP1754463879d4f0e52f_100.00',"updated_at"='2025-08-06 07:04:39.138' WHERE "id" = 2
[GIN] 2025/08/06 - 07:04:39 | 200 |    6.346199ms |             ::1 | POST     "/api/v1/sponsor/create"

2025/08/06 07:04:50 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:199
[0m[33m[1.713ms] [34;1m[rows:1][0m SELECT * FROM "sponsor_orders" WHERE order_id = 'SP1754463879d4f0e52f' ORDER BY "sponsor_orders"."id" LIMIT 1

2025/08/06 07:04:50 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:227
[0m[33m[4.886ms] [34;1m[rows:1][0m UPDATE "sponsor_orders" SET "order_id"='SP1754463879d4f0e52f',"amount"=100,"sponsor_name"='前端测试用户',"message"='测试前后端集成',"payment_method"='wechat',"status"='paid',"qr_code_url"='https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=mock_payment_SP1754463879d4f0e52f_100.00',"transaction_id"='b311cc6eb73e17522701b143d99cf531',"paid_at"='2025-08-06 07:04:50.416',"created_at"='2025-08-06 07:04:39.136',"updated_at"='2025-08-06 07:04:50.416' WHERE "id" = 2
[GIN] 2025/08/06 - 07:04:50 | 200 |    6.892556ms |             ::1 | POST     "/api/v1/sponsor/mock-callback/SP1754463879d4f0e52f?action=pay"

2025/08/06 07:04:58 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:171
[0m[33m[1.583ms] [34;1m[rows:1][0m SELECT COALESCE(SUM(amount), 0) FROM "sponsor_orders" WHERE status = 'paid'

2025/08/06 07:04:58 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:173
[0m[33m[0.181ms] [34;1m[rows:1][0m SELECT count(*) FROM "sponsor_orders" WHERE status = 'paid'

2025/08/06 07:04:58 [32m/home/ubuntu/personal-blog/backend/internal/handlers/sponsor.go:180
[0m[33m[0.132ms] [34;1m[rows:1][0m SELECT count(*) FROM "sponsor_orders" WHERE status = 'paid' AND paid_at >= '2025-08-01 00:00:00'
[GIN] 2025/08/06 - 07:04:58 | 200 |     2.07636ms |             ::1 | GET      "/api/v1/sponsor/stats"
